{% extends "base.html" %}<!--extends the base.html template-->

{% block title %}Home{% endblock %}<!--Override the default name from the base.html template-->

{% block content %} 

<div class= "graphs" >
    <div id="Dow">
         <canvas id="dowChart"></canvas>
    </div>
    <div>
         <canvas id="nasdaqChart"></canvas>
    </div>
    <div>
         <canvas id="SP500Chart"></canvas>
    </div>

<<<<<<< Updated upstream
</div>

<img src="{{url_for('static', filename='images/giphy.gif')}}" style="width: 100%; display: block;
=======
<!--
<img src="{{url_for('static', filename='images/giphy.gif')}}" style="width: 60%; display: block;
>>>>>>> Stashed changes
margin-left: auto;
margin-right: auto;
padding-top: 20px;"/>
-->

<h4 align="center" style="margin-top: 20px;"> <b>LASTEST MARKET NEWS</b></h4>

<div class="slider">
    <div class="slider-wrapper flex flex">

        {% for title, desc,img,p_date,url in contents %}
        <div class="slide flex">
            <div class="slide-image slider-link next"><img src = "{{img}}"><div class="overlay"></div></div>
            <div class="slide-content">
                <div class="slide-date">{{p_date}}</div>
                <div class="slide-title"><b>{{title}}</b></div>
                <div class="slide-text">{{desc}}</div>
                <a href="{{url}}">READ MORE</a>
            </div>
        </div>
        
        {% endfor %}
    
    </div>
</div>

<div class="arrows">
    <a href="#" title="Previous" class="arrow slider-link prev"></a>
    <a href="#" title="Next" class="arrow slider-link next"></a>
</div>





{% endblock %}

<<<<<<< Updated upstream
    .grid-container{
        display: grid;
    }
    .graphs{
        display:flex;
    }


</style>
<script>
    let xhr = new XMLHttpRequest();
    xhr.open('GET','http://127.0.0.1:5000/search?time=3mo&stock=Dow',true);
    xhr.onload= function(){
    if(this.status == 200){
        let information = JSON.parse(this.responseText);
        let dates=JSON.parse(information[1]);
        let price =JSON.parse(information[0]);
        var ctx = document.getElementById("dowChart").getContext("2d");
    // Gradient fill
    let gradient = ctx.createLinearGradient(0,0,0,400);
    gradient.addColorStop(0,'rgba(58,123,213,1)');
    gradient.addColorStop(1,'rgba(0,210,255,0.3)');
    const data = {
    labels: dates,
    datasets: [{
    label: 'My First dataset',
    backgroundColor: 'rgb(255, 99, 132)',
    borderColor: 'rgb(255, 99, 132)',
    data:price,
    fill : true,
    backgroundColor : gradient
    }]
    };
    const config = {
        type: 'line',
        data: data,
        options: {
        elements: {
        point:{
            radius : 0
        }
        },
    scales :{
        x:{
        ticks:{
            display : false
            }
        }

        } 
    }
};


var newmychart = new Chart(ctx,config);

    }}
    xhr.send();

    //nasdaq
let xhrnas = new XMLHttpRequest();
    xhrnas.open('GET','http://127.0.0.1:5000/search?time=3mo&stock=Dow',true);
    xhrnas.onload= function(){
    if(this.status == 200){
        let information = JSON.parse(this.responseText);
        let dates=JSON.parse(information[1]);
        let price =JSON.parse(information[0]);
        var ctx = document.getElementById("nasdaqChart").getContext("2d");
    // Gradient fill
    let gradient = ctx.createLinearGradient(0,0,0,400);
    gradient.addColorStop(0,'rgba(58,123,213,1)');
    gradient.addColorStop(1,'rgba(0,210,255,0.3)');
    const data = {
    labels: dates,
    datasets: [{
    label: 'My First dataset',
    backgroundColor: 'rgb(255, 99, 132)',
    borderColor: 'rgb(255, 99, 132)',
    data:price,
    fill : true,
    backgroundColor : gradient
    }]
    };
    const config = {
        type: 'line',
        data: data,
        options: {
        elements: {
        point:{
            radius : 0
        }
        },
    scales :{
        x:{
        ticks:{
            display : false
            }
        }

        } 
    }
};


var nasychart = new Chart(ctx,config);

    }}
    xhrnas.send();
    //sp500
let xhrsp = new XMLHttpRequest();
    xhrsp.open('GET','http://127.0.0.1:5000/search?time=3mo&stock=Dow',true);
    xhrsp.onload= function(){
    if(this.status == 200){
        let information = JSON.parse(this.responseText);
        let dates=JSON.parse(information[1]);
        let price =JSON.parse(information[0]);
        var ctx = document.getElementById("SP500Chart").getContext("2d");
    // Gradient fill
    let gradient = ctx.createLinearGradient(0,0,0,400);
    gradient.addColorStop(0,'rgba(58,123,213,1)');
    gradient.addColorStop(1,'rgba(0,210,255,0.3)');
    const data = {
    labels: dates,
    datasets: [{
    label: 'My First dataset',
    backgroundColor: 'rgb(255, 99, 132)',
    borderColor: 'rgb(255, 99, 132)',
    data:price,
    fill : true,
    backgroundColor : gradient
    }]
    };
    const config = {
        type: 'line',
        data: data,
        options: {
        elements: {
        point:{
            radius : 0
        }
        },
    scales :{
        x:{
        ticks:{
            display : false
            }
        }

        } 
    }
};


var spychart = new Chart(ctx,config);

    }}
    xhrsp.send();
</script>

{% endblock %}
=======

>>>>>>> Stashed changes
